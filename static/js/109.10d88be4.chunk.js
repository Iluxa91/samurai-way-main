"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[109],{1109:function(t,e,s){s.r(e),s.d(e,{default:function(){return N}});var o=s(5671),i=s(3144),r=s(136),n=s(5716),a=s(2791),u=s(885),l="ProfileInfo_descriptionBlock__lbg-l",c="ProfileInfo_mainPhoto__ZTHyP",d="ProfileInfo_contacts__GAXhA",h="ProfileInfo_error__OPhGo",p=s(5785),f=s(184),g=function(t){(0,r.Z)(s,t);var e=(0,n.Z)(s);function s(){var t;(0,o.Z)(this,s);for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,i.Z)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,f.jsxs)("div",{children:[!this.state.editMode&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Status"}),": ",(0,f.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"No Status"})]}),this.state.editMode&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),s}(a.Component),x=s(9850),v=s(1413),j=s(5705),b=function(t){var e=t.profile,s=t.onSubmit,o=(0,j.TA)({initialValues:{fullName:e.fullName,lookingForAJob:!0,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,contacts:(0,v.Z)({},e.contacts)},onSubmit:function(t){s({fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:{facebook:t.contacts.facebook,github:t.contacts.github,instagram:t.contacts.instagram,vk:t.contacts.vk,mainLink:t.contacts.mainLink,twitter:t.contacts.twitter,website:t.contacts.website,youtube:t.contacts.youtube}})}});return(0,f.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,f.jsx)("button",{type:"submit",children:"save"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full name"}),":",(0,f.jsx)("input",(0,v.Z)({},o.getFieldProps("fullName")))]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),":",(0,f.jsx)("input",(0,v.Z)({type:"checkbox"},o.getFieldProps("lookingForAJob")))]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My professional skills"}),":",(0,f.jsx)("input",(0,v.Z)({},o.getFieldProps("lookingForAJobDescription")))]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),":",(0,f.jsx)("input",(0,v.Z)({},o.getFieldProps("aboutMe")))]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"}),": ",e.contacts&&Object.keys(e.contacts).map((function(t){return(0,f.jsx)("div",{className:d,children:(0,f.jsxs)("b",{children:[t,":",(0,f.jsx)("input",(0,v.Z)({placeholder:t},o.getFieldProps("contacts."+t)))]})},t)}))]})]})},A=function(t){var e,s=(0,a.useRef)(null),o=(0,a.useState)(!1),i=(0,u.Z)(o,2),r=i[0],n=i[1];if(!t.profile)return(0,f.jsx)(p.p,{});return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("img",{src:(null===(e=t.profile.photos)||void 0===e?void 0:e.large)||x,className:c}),t.isOwner&&(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{onClick:function(){var t;s&&(null===(t=s.current)||void 0===t||t.click())},children:"upload file"}),(0,f.jsx)("input",{style:{display:"none"},ref:s,type:"file",onChange:function(e){e.target.files&&e.target.files.length&&t.savePhoto(e.target.files[0])}})]}),r?(0,f.jsx)(b,{profile:t.profile,onSubmit:function(e){t.saveProfile(e),n(!1)}}):(0,f.jsx)(P,{isOwner:t.isOwner,profile:t.profile,goToEditMode:function(){n(!0)},errorMessage:t.errorMessage}),(0,f.jsx)(g,{status:t.status,updateStatus:t.updateStatus})]})})},m=function(t){var e=t.contactTitle,s=t.contactValue;return(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("b",{children:e}),": ",s]})},P=function(t){var e=t.profile,s=t.isOwner,o=t.goToEditMode,i=t.errorMessage;return(0,f.jsxs)("div",{children:[s&&(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{onClick:o,children:"edit"}),i&&(0,f.jsx)("div",{className:h,children:i})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full name"}),": ",e.fullName]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"}),": ",e.contacts&&Object.keys(e.contacts).map((function(t){return(0,f.jsx)(m,{contactTitle:t,contactValue:e.contacts&&e.contacts[t]},t)}))]})]})},k=s(4136),D="MyPosts_postsBlock__FLQlx",F="MyPosts_posts__KksIg",S="MyPosts_error__mbT40",C="Post_item__3Ko6E",L=function(t){return(0,f.jsxs)("div",{className:C,children:[(0,f.jsx)("img",{src:"data:image/png;base64,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"}),t.message,(0,f.jsxs)("div",{children:[t.likesCount,(0,f.jsx)("span",{children:"likes"})]})]})},y=a.memo((function(t){var e=t.posts.map((function(t){return(0,f.jsx)(L,{likesCount:t.likesCount,message:t.message},t.id)}));return(0,f.jsxs)("div",{className:D,children:[(0,f.jsx)("h3",{children:"My Posts"}),(0,f.jsx)(E,{addPost:t.addPost}),(0,f.jsx)("div",{className:F,children:"New posts"}),e]})})),E=function(t){var e=(0,j.TA)({initialValues:{newPostText:""},validate:function(t){var e={};return t.newPostText?t.newPostText.length>10&&(e.newPostText="Max length is 10 symbols"):e.newPostText="Required",e},onSubmit:function(e){t.addPost(e.newPostText)}});return(0,f.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("textarea",(0,v.Z)({className:e.errors.newPostText?S:"",placeholder:"Post message"},e.getFieldProps("newPostText"))),e.touched.newPostText&&e.errors.newPostText&&(0,f.jsx)("div",{style:{color:"red"},children:e.errors.newPostText})]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{type:"submit",children:"Add post"})})]})},K=s(8687),Q=(0,K.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,k.Wl)(e))}}}))(y),M=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(A,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile,errorMessage:t.errorMessage}),(0,f.jsx)(Q,{})]})},w=s(9271),z=s(6024),T=s(7781),J=function(t){(0,r.Z)(s,t);var e=(0,n.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(M,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,errorMessage:this.props.errorMessage})}}]),s}(a.Component),N=(0,T.qC)((0,K.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth,errorMessage:t.profilePage.profileErrorMessage}}),{getUserProfile:k.et,getStatus:k.lR,updateStatus:k.yR,savePhoto:k.Ju,saveProfile:k.Ii}),w.EN,z.D)(J)},6024:function(t,e,s){s.d(e,{D:function(){return c}});var o=s(1413),i=s(3366);s(2791);var r=s(9271),n=s(8687),a=s(184),u=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,n.$j)(l)((function(e){var s=e.isAuth,n=function(t,e){if(null==t)return{};var s,o,r=(0,i.Z)(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(o=0;o<n.length;o++)s=n[o],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}(e,u);return s?(0,a.jsx)(t,(0,o.Z)({},n)):(0,a.jsx)(r.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=109.10d88be4.chunk.js.map